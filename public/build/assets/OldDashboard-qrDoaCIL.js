import{c as a,o as s,b as e,d as B,r as p,a as m,u as f,m as H,w as y,t as v,e as g,f as d,n as h,g as U,v as $,F as L,h as x}from"./app-Cz0AE56I.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-B5dJ-S9f.js";import{u as M}from"./OptimizationWizardStore-CoeUHQ04.js";import"./Button.vue_vue_type_script_setup_true_lang-CJ3ioQfg.js";import"./Label.vue_vue_type_script_setup_true_lang-BCfglx7w.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BVJFYS18.js";function T(w,b){return s(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),e("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"})])}function j(w,b){return s(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M5.478 5.559A1.5 1.5 0 0 1 6.912 4.5H9A.75.75 0 0 0 9 3H6.912a3 3 0 0 0-2.868 2.118l-2.411 7.838a3 3 0 0 0-.133.882V18a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-4.162c0-.299-.045-.596-.133-.882l-2.412-7.838A3 3 0 0 0 17.088 3H15a.75.75 0 0 0 0 1.5h2.088a1.5 1.5 0 0 1 1.434 1.059l2.213 7.191H17.89a3 3 0 0 0-2.684 1.658l-.256.513a1.5 1.5 0 0 1-1.342.829h-3.218a1.5 1.5 0 0 1-1.342-.83l-.256-.512a3 3 0 0 0-2.684-1.658H3.265l2.213-7.191Z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v6.44l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 0 1 1.06-1.06l1.72 1.72V3a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}const S={class:"mx-auto flex h-full w-[595px] flex-1 flex-col gap-4 rounded-xl p-4"},N={key:0,class:"col-span-full w-full md:w-[595px]"},O={class:"max-h-72 w-full max-w-full overflow-y-auto text-wrap py-2 text-sm leading-6"},Z={class:"flex items-start justify-between"},P={class:"mx-auto max-h-[842px] overflow-y-auto border"},E=["innerHTML"],I={key:1,class:"col-span-full w-full md:w-[595px]"},Y={class:"mt-2 flex items-center gap-x-3"},q={key:0},G={key:1,class:"flex flex-col items-start justify-start"},J=["textContent"],K=["textContent"],Q={key:0,class:"mt-2 block text-sm/6 font-medium text-white"},W={key:1,class:"max-h-72 w-full overflow-auto py-2 text-sm"},X={key:2,class:"my-2"},ee={class:"flex items-center gap-2 dark:text-white"},te={key:3,class:"col-span-full"},oe={class:"mt-2"},le={class:"mt-6 flex items-center justify-center gap-x-6"},ue=B({__name:"OldDashboard",setup(w){const b=[{title:"Dashboard",href:"/dashboard"}],r=p({}),o=p({content:"",optimized_content:"",role_details:"",reasoning:""}),n=p(!1),u=p(!1),c=p(""),k=()=>{n.value=!0,c.value="Uploading...",x.post("/api/resume",{resume:r.value},{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${window.Laravel.api_token}`}}).then(l=>{c.value="Uploaded, parsing file...",o.value.id=l.data.resume.id,_()})},_=()=>{x.post(`/api/parser/${o.value.id}`,{},{headers:{Authorization:`Bearer ${window.Laravel.api_token}`}}).then(l=>{c.value="File parsed successfully",o.value.content=l.data.content,n.value=!1})},C=l=>l<=1024?l+"b":l<=1024*1024?(l/1024).toFixed(1)+"kb":(l/1024/1024).toFixed(1)+"mb",z=l=>{r.value=l.target.files[0],r.value.humanReadableSize=C(l.target.files[0].size)},A=()=>{r.value={},o.value.content=""},R=()=>{n.value=!0,x.post(`/api/optimize/${o.value.id}`,{role_details:o.value.role_details},{headers:{Authorization:`Bearer ${window.Laravel.api_token}`}}).then(l=>{c.value="Completed!",o.value.optimized_content=l.data.response,o.value.reasoning=l.data.reasoning,n.value=!1})},V=l=>x({method:"post",url:`/api/download-optimized/${l}`,headers:{Authorization:`Bearer ${window.Laravel.api_token}`,"Content-Type":"application/json"},responseType:"blob"}).then(function(t){const i=document.createElement("a");i.href=window.URL.createObjectURL(t.data),i.download="resume.pdf",document.body.appendChild(i),i.click(),i.remove()}),F=async()=>{n.value=!0,V(o.value.id).then(()=>{n.value=!1})};return(l,t)=>(s(),a(L,null,[m(f(H),{title:"Dashboard"}),m(D,{breadcrumbs:b},{default:y(()=>[e("div",S,[o.value.optimized_content.length?(s(),a("div",N,[t[4]||(t[4]=e("span",{class:"mt-2 block text-sm/6 font-medium dark:text-white"},"Reasoning:",-1)),e("p",O,v(o.value.reasoning),1),e("div",Z,[t[3]||(t[3]=e("span",{class:"mx-auto mt-2 block flex-1 overflow-y-auto text-sm/6 font-medium dark:text-white"},"Result:",-1)),e("button",{onClick:F,class:"flex items-center justify-center gap-2 rounded px-3 py-1 text-sm hover:text-indigo-500 hover:underline",type:"button"},[t[2]||(t[2]=g(" Download ")),m(f(j),{class:"size-4","aria-hidden":"true"})])]),e("div",P,[e("div",{class:"prose prose-stone prose-ul:my-1 prose-li:my-0 prose-h1:mt-4 prose-h1:mb-4 prose-h2:mt-6 prose-h2:mb-2 prose-lead:leading-normal text-sm prose-hr:border-gray-400 text-wrap rounded px-4 py-2 dark:bg-gray-300 dark:p-4",innerHTML:o.value.optimized_content},null,8,E)])])):(s(),a("div",I,[t[12]||(t[12]=e("label",{for:"upload-resume",class:"block text-sm/6 font-medium dark:text-white"},"Your Resume",-1)),e("input",{ref:"uploadFile",onChange:z,type:"file",id:"upload-resume",class:"hidden"},null,544),e("div",Y,[m(f(T),{class:"size-12 text-gray-500","aria-hidden":"true"}),r.value.name?(s(),a("div",G,[e("span",null,[t[6]||(t[6]=g("Name: ")),e("span",{textContent:v(r.value.name)},null,8,J)]),e("span",null,[t[7]||(t[7]=g("Size: ")),e("span",{textContent:v(r.value.humanReadableSize)},null,8,K)])])):(s(),a("div",q,t[5]||(t[5]=[e("label",{for:"upload-resume",class:"cursor-pointer rounded-md bg-indigo-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500"},"Upload Resume",-1)])))]),o.value.content.length?(s(),a("span",Q,"Parsed Content:")):d("",!0),o.value.content.length?(s(),a("pre",W,v(o.value.content),1)):d("",!0),o.value.content.length?(s(),a("div",X,[e("label",ee,[m(f(M),{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=i=>u.value=i),class:h([u.value?"bg-indigo-300":"bg-gray-300 dark:bg-gray-700","relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:y(()=>[t[8]||(t[8]=e("span",{class:"sr-only"},"Add role information",-1)),e("span",{"aria-hidden":"true",class:h([u.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block size-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]),t[9]||(t[9]=e("span",null,"Add role information",-1))])])):d("",!0),u.value?(s(),a("div",te,[t[10]||(t[10]=e("label",{for:"about",class:"block text-sm/6 font-medium dark:text-white"},"Role Information",-1)),e("div",oe,[U(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=i=>o.value.role_details=i),id:"about",rows:"3",class:":dark:placeholder:text-gray-500 block w-full rounded-md bg-white/5 px-3 py-1.5 text-base outline outline-1 -outline-offset-1 outline-gray-400 placeholder:text-gray-700 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 dark:text-white dark:outline-white/10 sm:text-sm/6"},null,512),[[$,o.value.role_details]])]),t[11]||(t[11]=e("p",{class:"mt-3 text-sm/6 text-gray-400"}," Please paste here the role information so the resume can be tailored to better match the role you are applying for ",-1))])):d("",!0),e("div",le,[e("button",{type:"reset",onClick:A,class:"text-sm/6 font-semibold dark:text-white"},"Cancel"),o.value.content.length?d("",!0):(s(),a("button",{key:0,type:"button",onClick:k,class:h(["rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",{"disabled bg-indigo-300":n.value,"bg-indigo-500":!n.value}])}," Upload ",2)),o.value.content.length?(s(),a("button",{key:1,type:"button",onClick:R,class:h(["rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",{"disabled bg-indigo-300":n.value,"bg-indigo-500":!n.value}])}," Optimize ",2)):d("",!0)])]))])]),_:1})],64))}});export{ue as default};
