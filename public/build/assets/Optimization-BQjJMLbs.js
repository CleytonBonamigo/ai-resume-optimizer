import{a as q,b as I,c as L,d as N,F as z,_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-ZyPijCA8.js";import{d as C,n as D,r as $,f as O,c as l,o as r,b as o,g as p,h as E,t as n,u as e,e as m,i as j,F as g,j as y,v as B,a as i,w as d,m as F,k as w}from"./app-BlhPu1b-.js";import{_ as P}from"./ResumeWizard.vue_vue_type_script_setup_true_lang-COGP4eSY.js";import{u as S,d as A,a as H,c as T}from"./OptimizationWizardStore-XmQRr533.js";import{c as b,_}from"./Button.vue_vue_type_script_setup_true_lang---kxHtjH.js";import"./Label.vue_vue_type_script_setup_true_lang-CfNvCCor.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ChngAjmu.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=b("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=b("RecycleIcon",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=b("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),K={class:"mx-auto flex h-full w-full xl:w-[950px] flex-1 flex-col gap-4 rounded-xl p-4"},Q={class:"relative bg-gray-300/10 dark:bg-[#202020] px-8 py-6"},U={class:"text-2xl"},X={class:"mt-4"},Y={class:"text-gray-600 dark:text-gray-400"},Z={class:"text-gray-600 dark:text-gray-400"},ee={class:"text-gray-600 dark:text-gray-400"},te={key:0,class:"mt-6 text-yellow-400 font-bold"},se={key:1,class:"text-yellow-400"},oe={class:"block"},re={class:"block text-yellow-400/70"},ae={key:2,class:"mt-6 text-red-400 font-bold"},le={key:3,class:"text-red-400"},ie={class:"block"},ne={class:"block text-red-400/70"},de={key:4,class:"mt-6 font-bold"},me={key:5,class:"mt-4"},pe={class:"absolute right-2 top-3"},ue={class:"flex flex-col gap-2"},ce={class:"flex flex-col-reverse xl:flex-row justify-end gap-2"},fe=C({__name:"CompleteOptimization",setup(k){const t=S(),c=D(),u=$(""),x=()=>{if(t.form.status==="complete"){const f=t.form.response.compatibility_score;switch(!0){case(f<90&&f>84):u.value="text-yellow-400";break;case f<85:u.value="text-red-400";break;default:u.value="text-green-400 text-xl"}}};O(()=>{x()});const h=()=>{t.form.status="pending",t.step=0,t.latestStep=3},M=()=>{t.loading=!0,T(c,t).then(f=>{t.setOptimization(f.data.optimization),t.form.status="complete",x()})};return(f,s)=>{var v;return r(),l("div",K,[o("div",Q,[o("h1",U,n(e(t).form.role.company)+" "+n(e(t).form.role.name)+" Application",1),o("h4",X,[s[2]||(s[2]=m("Compatibility score: ")),o("span",{class:j(["font-bold",u.value])},n(e(t).form.response.compatibility_score)+"%",3),s[3]||(s[3]=m(" Match"))]),o("p",Y,n(e(t).form.response.reasoning),1),s[9]||(s[9]=o("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),s[10]||(s[10]=o("h2",{class:"mt-6 font-bold"},"Role Specific Professional Summary",-1)),o("p",Z,n(e(t).form.response.professional_summary),1),s[11]||(s[11]=o("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),s[12]||(s[12]=o("h2",{class:"mt-4 font-bold"},"Strong Alignments:",-1)),(r(!0),l(g,null,y(e(t).form.response.strong_alignments,a=>(r(),l("div",{key:a.title,class:"mt-4"},[o("h3",null,n(a.title),1),o("p",ee,n(a.description),1)]))),128)),e(t).form.response.moderate_gaps.length?(r(),l("h2",te,"Moderate Gaps:")):p("",!0),e(t).form.response.moderate_gaps.length?(r(),l("div",se,[o("ul",null,[(r(!0),l(g,null,y(e(t).form.response.moderate_gaps,a=>(r(),l("li",{key:a.title},[o("span",oe,n(a.title),1),o("span",re,n(a.description),1)]))),128))])])):p("",!0),e(t).form.response.missing_requirements.length?(r(),l("h2",ae,"Missing Requirements:")):p("",!0),e(t).form.response.missing_requirements.length?(r(),l("div",le,[o("ul",null,[(r(!0),l(g,null,y(e(t).form.response.missing_requirements,a=>(r(),l("li",{key:a.title},[o("span",ie,n(a.title),1),o("span",ne,n(a.description),1)]))),128))])])):p("",!0),s[13]||(s[13]=o("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),e(t).form.response.cover_letter.length?(r(),l("h2",de,"Cover Letter:")):p("",!0),e(t).form.response.cover_letter.length?(r(),l("div",me,[s[6]||(s[6]=o("p",{class:"text-gray-600 dark:text-gray-400"},"Dear Hiring manager,",-1)),(r(!0),l(g,null,y(e(t).form.response.cover_letter,(a,R)=>(r(),l("p",{key:`${a}-${R}`,class:"py-2 text-gray-600 dark:text-gray-400"},n(a),1))),128)),o("p",null,[s[4]||(s[4]=m("Regards,")),s[5]||(s[5]=o("br",null,null,-1)),m(n((v=e(c).props.auth)==null?void 0:v.user.name),1)])])):p("",!0),E(o("div",pe,[i(e(q),null,{default:d(()=>[i(e(I),{"as-child":""},{default:d(()=>[i(e(L),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground px-4"},{default:d(()=>[i(e(W),{class:"ml-auto size-4"})]),_:1})]),_:1}),i(e(N),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"right",align:"start","side-offset":4},{default:d(()=>[o("div",ue,[i(e(_),{disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:M},{default:d(()=>[i(e(G)),s[7]||(s[7]=m(" Regenerate "))]),_:1},8,["disabled","variant"]),i(e(_),{disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:h},{default:d(()=>[i(e(J)),s[8]||(s[8]=m(" Edit "))]),_:1},8,["disabled","variant"])])]),_:1})]),_:1})],512),[[B,!e(t).loading]])]),o("div",ce,[i(e(_),{disabled:e(t).loading||!e(t).form.response.cover_letter.length,variant:e(t).loading||!e(t).form.response.cover_letter.length?"ghost":"outline",type:"button",size:"lg",onClick:s[0]||(s[0]=a=>e(A)(e(c),e(t)))},{default:d(()=>[i(e(z)),s[14]||(s[14]=m(" Download Cover Letter "))]),_:1},8,["disabled","variant"]),i(e(_),{disabled:e(t).loading,type:"button",size:"lg",onClick:s[1]||(s[1]=a=>e(H)(e(c),e(t)))},{default:d(()=>[i(e(z)),s[15]||(s[15]=m(" Download Optimized Resume "))]),_:1},8,["disabled"])])])}}}),ve=C({__name:"Optimization",props:{step:{type:Number,default:0},optimization:{type:Object,default:()=>({})}},setup(k){const t=S(),c=k,u=$([{title:"New Optimization",href:"/optimizations/create"}]);return O(()=>{t.setOptimization(c.optimization),t.form.optimizationId&&(u.value=[{title:"Optimizations",href:"#"},{title:t.form.role.company,href:"/optimizations/"+t.form.optimizationId}])}),(x,h)=>(r(),l(g,null,[i(e(F),{title:e(t).pageTitle},null,8,["title"]),i(V,{breadcrumbs:u.value},{default:d(()=>[e(t).form.status!=="complete"?(r(),w(P,{key:0})):p("",!0),e(t).form.status==="complete"?(r(),w(fe,{key:1})):p("",!0)]),_:1},8,["breadcrumbs"])],64))}});export{ve as default};
