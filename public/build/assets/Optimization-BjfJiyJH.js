import{a as j,b as E,c as A,d as B,F as D,_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-BBa4EB0c.js";import{d as w,n as I,f as k,o as r,u as e,w as l,a as o,e as m,b as a,g as H,W as P,r as V,h as T,c as n,i as c,j as W,t as d,k as G,F as y,l as v,v as J,m as K}from"./app-B361VlWE.js";import{_ as Q}from"./ResumeWizard.vue_vue_type_script_setup_true_lang-8NDYTsFE.js";import{u as $,a as q,d as U,b as X,c as Y,e as Z}from"./OptimizationWizardStore-DU5wDZtN.js";import{c as h,_}from"./Button.vue_vue_type_script_setup_true_lang-DRVCWaXt.js";import{_ as ee,a as te,b as se,c as ae,d as oe,e as re,f as le,g as ie}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-D4S8WZya.js";import"./Label.vue_vue_type_script_setup_true_lang-2BjelEka.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-LyakL8tT.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=h("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=h("RecycleIcon",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=h("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=h("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),ue=w({__name:"DeleteOptimization",setup(z){const t=$(),f=I(),u=q(),b=()=>{U(f,t),t.setOptimization({}),u.success("Removed!","The optimization was successfully removed."),P.visit("/dashboard",{method:"get",preserveState:!0})};return(x,p)=>(r(),k(e(ee),null,{default:l(()=>[o(e(te),{"as-child":""},{default:l(()=>[o(e(_),{disabled:e(t).loading,variant:"destructive",type:"button",size:"lg"},{default:l(()=>[o(e(pe)),p[0]||(p[0]=m(" Remove "))]),_:1},8,["disabled"])]),_:1}),o(e(se),null,{default:l(()=>[o(e(ae),{class:"space-y-3"},{default:l(()=>[o(e(oe),null,{default:l(()=>p[1]||(p[1]=[m("Are you sure you want to delete this optimization?")])),_:1}),o(e(re),null,{default:l(()=>p[2]||(p[2]=[m(" Once it is deleted, all of its resources and data will also be permanently deleted. ")])),_:1})]),_:1}),o(e(le),{class:"gap-2"},{default:l(()=>[o(e(ie),{"as-child":""},{default:l(()=>[o(e(_),{variant:"secondary"},{default:l(()=>p[3]||(p[3]=[m(" Cancel ")])),_:1})]),_:1}),o(e(_),{variant:"destructive",disabled:e(t).loading},{default:l(()=>[a("button",{type:"button",onClick:H(b,["prevent"])},"Delete Optimization")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}))}}),ce={class:"mx-auto flex h-full w-full xl:w-[950px] flex-1 flex-col gap-4 rounded-xl p-4"},fe={class:"relative bg-gray-300/10 dark:bg-[#202020] px-8 py-6"},_e={class:"text-2xl"},ge={class:"mt-4"},ye={class:"text-gray-600 dark:text-gray-400"},be={class:"text-gray-600 dark:text-gray-400"},xe={class:"text-gray-600 dark:text-gray-400"},ve={key:0,class:"mt-6 text-yellow-400 font-bold"},ke={key:1,class:"text-yellow-400"},he={class:"block"},ze={class:"block text-yellow-400/70"},we={key:2,class:"mt-6 text-red-400 font-bold"},$e={key:3,class:"text-red-400"},Oe={class:"block"},Ce={class:"block text-red-400/70"},Me={key:4,class:"mt-6 font-bold"},Se={key:5,class:"mt-4"},Re={class:"absolute right-2 top-3"},De={class:"flex flex-col gap-2"},Ie={class:"flex flex-col-reverse xl:flex-row justify-end gap-2"},Ve=w({__name:"CompleteOptimization",setup(z){const t=$(),f=I(),u=V(""),b=q(),x=()=>{if(t.form.status==="complete"){const g=t.form.response.compatibility_score;switch(!0){case(g<90&&g>84):u.value="text-yellow-400";break;case g<85:u.value="text-red-400";break;default:u.value="text-green-400 text-xl"}}};T(()=>{x()});const p=()=>{t.form.status="pending",t.step=0,t.latestStep=3},L=()=>{t.loading=!0,Z(f,t).then(g=>{t.setOptimization(g.data.optimization),t.form.status="complete",b.success("Complete Optimization","The optimization was successfully re-generated."),x()})};return(g,s)=>{var O,C,M,S,R;return r(),n("div",ce,[a("div",fe,[a("h1",_e,d(e(t).form.role.company)+" "+d(e(t).form.role.name)+" Application",1),a("h4",ge,[s[2]||(s[2]=m("Compatibility score: ")),a("span",{class:G(["font-bold",u.value])},d(e(t).form.response.compatibility_score)+"%",3),s[3]||(s[3]=m(" Match"))]),a("p",ye,d(e(t).form.response.reasoning),1),s[9]||(s[9]=a("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),s[10]||(s[10]=a("h2",{class:"mt-6 font-bold"},"Role Specific Professional Summary",-1)),a("p",be,d(e(t).form.response.professional_summary),1),s[11]||(s[11]=a("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),s[12]||(s[12]=a("h2",{class:"mt-4 font-bold"},"Strong Alignments:",-1)),(r(!0),n(y,null,v(e(t).form.response.strong_alignments,i=>(r(),n("div",{key:i.title,class:"mt-4"},[a("h3",null,d(i.title),1),a("p",xe,d(i.description),1)]))),128)),e(t).form.response.moderate_gaps.length?(r(),n("h2",ve,"Moderate Gaps:")):c("",!0),e(t).form.response.moderate_gaps.length?(r(),n("div",ke,[a("ul",null,[(r(!0),n(y,null,v(e(t).form.response.moderate_gaps,i=>(r(),n("li",{key:i.title},[a("span",he,d(i.title),1),a("span",ze,d(i.description),1)]))),128))])])):c("",!0),e(t).form.response.missing_requirements.length?(r(),n("h2",we,"Missing Requirements:")):c("",!0),e(t).form.response.missing_requirements.length?(r(),n("div",$e,[a("ul",null,[(r(!0),n(y,null,v(e(t).form.response.missing_requirements,i=>(r(),n("li",{key:i.title},[a("span",Oe,d(i.title),1),a("span",Ce,d(i.description),1)]))),128))])])):c("",!0),s[13]||(s[13]=a("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),(O=e(t).form.response.cover_letter)!=null&&O.length?(r(),n("h2",Me,"Cover Letter:")):c("",!0),(C=e(t).form.response.cover_letter)!=null&&C.length?(r(),n("div",Se,[s[6]||(s[6]=a("p",{class:"text-gray-600 dark:text-gray-400"},"Dear Hiring manager,",-1)),(r(!0),n(y,null,v(e(t).form.response.cover_letter??[],(i,N)=>(r(),n("p",{key:`${i}-${N}`,class:"py-2 text-gray-600 dark:text-gray-400"},d(i),1))),128)),a("p",null,[s[4]||(s[4]=m("Regards,")),s[5]||(s[5]=a("br",null,null,-1)),m(d((M=e(f).props.auth)==null?void 0:M.user.name),1)])])):c("",!0),W(a("div",Re,[e(t).form.optimizationId?(r(),k(e(B),{key:0},{default:l(()=>[o(e(j),{"as-child":""},{default:l(()=>[o(e(E),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground px-4"},{default:l(()=>[o(e(ne),{class:"ml-auto size-4"})]),_:1})]),_:1}),o(e(A),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"right",align:"start","side-offset":4},{default:l(()=>[a("div",De,[o(e(_),{disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:L},{default:l(()=>[o(e(de)),s[7]||(s[7]=m(" Regenerate "))]),_:1},8,["disabled","variant"]),o(e(_),{disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:p},{default:l(()=>[o(e(me)),s[8]||(s[8]=m(" Edit "))]),_:1},8,["disabled","variant"]),o(ue)])]),_:1})]),_:1})):c("",!0)],512),[[J,!e(t).loading]])]),a("div",Ie,[o(e(_),{disabled:e(t).loading||!((S=e(t).form.response.cover_letter)!=null&&S.length),variant:e(t).loading||!((R=e(t).form.response.cover_letter)!=null&&R.length)?"ghost":"outline",type:"button",size:"lg",onClick:s[0]||(s[0]=i=>e(X)(e(f),e(t)))},{default:l(()=>[o(e(D)),s[14]||(s[14]=m(" Download Cover Letter "))]),_:1},8,["disabled","variant"]),o(e(_),{disabled:e(t).loading,type:"button",size:"lg",onClick:s[1]||(s[1]=i=>e(Y)(e(f),e(t)))},{default:l(()=>[o(e(D)),s[15]||(s[15]=m(" Download Optimized Resume "))]),_:1},8,["disabled"])])])}}}),Fe=w({__name:"Optimization",props:{step:{type:Number,default:0},optimization:{type:Object,default:()=>({})}},setup(z){const t=$(),f=z,u=V([{title:"New Optimization",href:"/optimizations/create"}]);return T(()=>{t.setOptimization(f.optimization),t.form.optimizationId&&(u.value=[{title:"Optimizations",href:"#"},{title:t.form.role.company,href:"/optimizations/"+t.form.optimizationId}])}),(b,x)=>(r(),n(y,null,[o(e(K),{title:e(t).pageTitle},null,8,["title"]),o(F,{breadcrumbs:u.value},{default:l(()=>[e(t).form.status!=="complete"?(r(),k(Q,{key:0})):c("",!0),e(t).form.status==="complete"?(r(),k(Ve,{key:1})):c("",!0)]),_:1},8,["breadcrumbs"])],64))}});export{Fe as default};
