import{a as D,b as E,c as j,d as B,F as S,_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bw_tKT8j.js";import{d as M,n as P,r as I,f as R,c as l,o as a,b as o,g as m,h as T,t as n,u as e,e as p,i as A,F as f,j as g,v as H,k as b,w as d,a as i,m as W}from"./app-B2-dqCZD.js";import{_ as G}from"./ResumeWizard.vue_vue_type_script_setup_true_lang-DVY23SKc.js";import{u as N,a as J,b as K,_ as Q,d as U,c as X,e as Y}from"./NavigationItemsStore-Sm0S8yye.js";import{c as k,_ as y}from"./Button.vue_vue_type_script_setup_true_lang-yIPbK1yg.js";import"./Label.vue_vue_type_script_setup_true_lang-DqiltFlm.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZjAnog_C.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=k("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=k("RecycleIcon",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=k("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),se={class:"mx-auto flex h-full w-full xl:w-[950px] flex-1 flex-col gap-4 rounded-xl p-4"},oe={class:"relative bg-gray-300/10 dark:bg-[#202020] px-8 py-6"},ae={class:"text-2xl"},re={class:"mt-4"},le={class:"text-gray-600 dark:text-gray-400"},ie={class:"text-gray-600 dark:text-gray-400"},ne={class:"text-gray-600 dark:text-gray-400"},de={key:0,class:"mt-6 text-yellow-400 font-bold"},me={key:1,class:"text-yellow-400"},pe={class:"block"},ue={class:"block text-yellow-400/70"},ce={key:2,class:"mt-6 text-red-400 font-bold"},fe={key:3,class:"text-red-400"},ge={class:"block"},ye={class:"block text-red-400/70"},_e={key:4,class:"mt-6 font-bold"},xe={key:5,class:"mt-4"},be={class:"absolute right-2 top-3"},ke={class:"flex flex-col gap-2"},he={class:"flex flex-col-reverse xl:flex-row justify-end gap-2"},ve=M({__name:"CompleteOptimization",setup(h){const t=N(),_=P(),u=I(""),v=J();K();const x=()=>{if(t.form.status==="complete"){const c=t.form.response.compatibility_score;switch(!0){case(c<90&&c>84):u.value="text-yellow-400";break;case c<85:u.value="text-red-400";break;default:u.value="text-green-400 text-xl"}}};R(()=>{x()});const q=()=>{t.form.status="editing",t.step=0,t.latestStep=3},L=()=>{t.loading=!0,Y(t).then(c=>{t.setOptimization(c.data.optimization),t.form.status="complete",v.success("Complete Optimization","The optimization was successfully re-generated."),x()})};return(c,s)=>{var z,w,C,$,O;return a(),l("div",se,[o("div",oe,[o("h1",ae,n(e(t).form.role.company)+" "+n(e(t).form.role.name)+" Application",1),o("h4",re,[s[2]||(s[2]=p("Compatibility score: ")),o("span",{class:A(["font-bold",u.value])},n(e(t).form.response.compatibility_score)+"%",3),s[3]||(s[3]=p(" Match"))]),o("p",le,n(e(t).form.response.reasoning),1),s[9]||(s[9]=o("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),s[10]||(s[10]=o("h2",{class:"mt-6 font-bold"},"Role Specific Professional Summary",-1)),o("p",ie,n(e(t).form.response.professional_summary),1),s[11]||(s[11]=o("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),s[12]||(s[12]=o("h2",{class:"mt-4 font-bold"},"Strong Alignments:",-1)),(a(!0),l(f,null,g(e(t).form.response.strong_alignments,r=>(a(),l("div",{key:r.title,class:"mt-4"},[o("h3",null,n(r.title),1),o("p",ne,n(r.description),1)]))),128)),e(t).form.response.moderate_gaps.length?(a(),l("h2",de,"Moderate Gaps:")):m("",!0),e(t).form.response.moderate_gaps.length?(a(),l("div",me,[o("ul",null,[(a(!0),l(f,null,g(e(t).form.response.moderate_gaps,r=>(a(),l("li",{key:r.title},[o("span",pe,n(r.title),1),o("span",ue,n(r.description),1)]))),128))])])):m("",!0),e(t).form.response.missing_requirements.length?(a(),l("h2",ce,"Missing Requirements:")):m("",!0),e(t).form.response.missing_requirements.length?(a(),l("div",fe,[o("ul",null,[(a(!0),l(f,null,g(e(t).form.response.missing_requirements,r=>(a(),l("li",{key:r.title},[o("span",ge,n(r.title),1),o("span",ye,n(r.description),1)]))),128))])])):m("",!0),s[13]||(s[13]=o("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),(z=e(t).form.response.cover_letter)!=null&&z.length?(a(),l("h2",_e,"Cover Letter:")):m("",!0),(w=e(t).form.response.cover_letter)!=null&&w.length?(a(),l("div",xe,[s[6]||(s[6]=o("p",{class:"text-gray-600 dark:text-gray-400"},"Dear Hiring manager,",-1)),(a(!0),l(f,null,g(e(t).form.response.cover_letter??[],(r,V)=>(a(),l("p",{key:`${r}-${V}`,class:"py-2 text-gray-600 dark:text-gray-400"},n(r),1))),128)),o("p",null,[s[4]||(s[4]=p("Regards,")),s[5]||(s[5]=o("br",null,null,-1)),p(n((C=e(_).props.auth)==null?void 0:C.user.name),1)])])):m("",!0),T(o("div",be,[e(t).form.optimizationId?(a(),b(e(B),{key:0},{default:d(()=>[i(e(D),{"as-child":""},{default:d(()=>[i(e(E),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground px-4"},{default:d(()=>[i(e(Z),{class:"ml-auto size-4"})]),_:1})]),_:1}),i(e(j),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"right",align:"start","side-offset":4},{default:d(()=>[o("div",ke,[i(e(y),{disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:L},{default:d(()=>[i(e(ee)),s[7]||(s[7]=p(" Regenerate "))]),_:1},8,["disabled","variant"]),i(e(y),{disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:q},{default:d(()=>[i(e(te)),s[8]||(s[8]=p(" Edit "))]),_:1},8,["disabled","variant"]),i(Q)])]),_:1})]),_:1})):m("",!0)],512),[[H,!e(t).loading]])]),o("div",he,[i(e(y),{disabled:e(t).loading||!(($=e(t).form.response.cover_letter)!=null&&$.length),variant:e(t).loading||!((O=e(t).form.response.cover_letter)!=null&&O.length)?"ghost":"outline",type:"button",size:"lg",onClick:s[0]||(s[0]=r=>e(U)(e(t)))},{default:d(()=>[i(e(S)),s[14]||(s[14]=p(" Download Cover Letter "))]),_:1},8,["disabled","variant"]),i(e(y),{disabled:e(t).loading,type:"button",size:"lg",onClick:s[1]||(s[1]=r=>e(X)(e(t)))},{default:d(()=>[i(e(S)),s[15]||(s[15]=p(" Download Optimized Resume "))]),_:1},8,["disabled"])])])}}}),Ie=M({__name:"Optimization",props:{step:{type:Number,default:0},optimization:{type:Object,default:()=>({})}},setup(h){const t=N(),_=h,u=I([{title:"New Optimization",href:"/optimizations/create"}]);return R(()=>{t.setOptimization(_.optimization),t.form.optimizationId&&(u.value=[{title:"Optimizations",href:"#"},{title:t.form.role.company,href:"/optimizations/"+t.form.optimizationId}])}),(v,x)=>(a(),l(f,null,[i(e(W),{title:e(t).pageTitle},null,8,["title"]),i(F,{breadcrumbs:u.value},{default:d(()=>[e(t).form.status!=="complete"?(a(),b(G,{key:0})):m("",!0),e(t).form.status==="complete"?(a(),b(ve,{key:1})):m("",!0)]),_:1},8,["breadcrumbs"])],64))}});export{Ie as default};
