import{t as P,u as $,a as F,b as T,c as A,d as H,e as G,f as U,g as Z,F as B,h as J,i as K,_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-D6E5UiVW.js";import{c as n,o,b as s,r as O,f as M,g as X,h as D,d as C,F as _,i as v,u as e,n as z,j as b,k as m,a,t as l,l as S,p as Y,q as I,e as h,v as ee,w as x,m as te}from"./app-C2EtJQb2.js";import{c as R,_ as w}from"./Button.vue_vue_type_script_setup_true_lang-BMPoHZRt.js";import"./Label.vue_vue_type_script_setup_true_lang-By86-Win.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CEhMkDNz.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=R("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=R("RecycleIcon",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=R("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function ne(p,t){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}const N=()=>{var u;const p=O(window==null?void 0:window.innerWidth),t=(u=P.theme)==null?void 0:u.screens,c=()=>p.value=window==null?void 0:window.innerWidth;M(()=>window==null?void 0:window.addEventListener("resize",c)),X(()=>window==null?void 0:window.removeEventListener("resize",c));const f=D(()=>p.value<=parseInt(t.xs??"")?"xs":p.value<=parseInt(t.sm??"")?"sm":p.value<=parseInt(t.md??"")?"md":p.value<=parseInt(t.lg??"")?"lg":p.value<=parseInt(t.xl??"")?"xl":"2xl");return{width:D(()=>p.value),breakpoint:f}},le={"aria-label":"Progress"},ae={role:"list",class:"flex flex-col gap-6 xl:gap-0 xl:flex-row xl:items-center xl:justify-between"},ie=["onClick"],de={type:"button",class:"relative flex size-12 items-center justify-center rounded-full border-green-600 border group-hover:border-green-700"},ce={class:"sr-only"},ue={class:"xl:hidden"},pe=["onClick"],me={class:"relative flex size-12 items-center justify-center rounded-full border-white border group-hover:border-white/80"},fe={class:""},ge={class:"sr-only"},xe={class:"xl:hidden"},_e=["onClick"],he={class:"relative flex size-12 items-center justify-center rounded-full border-white/40 border group-hover:border-white/80"},ye={class:""},be={class:"sr-only"},ve={class:"xl:hidden"},ke=C({__name:"Steps",setup(p){let t=$();const{breakpoint:c}=N();return(f,g)=>(o(),n("nav",le,[s("ol",ae,[(o(!0),n(_,null,v(e(t).steps,(u,i)=>(o(),n("li",{key:u.name,class:z([i!==e(t).steps.length-1?"xl:pr-20 w-full":"","relative"])},[e(t).step>i||e(t).step===i&&i===e(t).steps.length-1?(o(),n(_,{key:0},[g[0]||(g[0]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-green-500 border-dashed"})],-1)),s("button",{onClick:k=>e(t).setStep(i),class:z(["group w-full flex gap-6 items-center text-green-600 hover:text-green-700 cursor-pointer",{"dark:bg-[#202020] rounded-tl-2xl":e(t).step===i&&i===e(t).steps.length-1&&!["xl","2xl"].includes(e(c))}])},[s("span",de,[a(e(ne),{class:"size-5","aria-hidden":"true"}),s("span",ce,l(u.name),1)]),s("span",ue,l(u.name),1)],10,ie),e(t).step===i&&i===e(t).steps.length-1&&!["xl","2xl"].includes(e(c))?(o(),b(S({...e(t).currentStep.stepComponent}),{key:0})):m("",!0)],64)):e(t).step===i&&!["xl","2xl"].includes(e(c))?(o(),n(_,{key:1},[g[1]||(g[1]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-gray-400 dark:border-white/40 border-dashed"})],-1)),s("button",{type:"button",onClick:k=>e(t).setStep(i),class:z(["w-full group flex gap-6 items-center text-white hover:text-white/80 cursor-pointer",{"dark:bg-[#202020] rounded-tl-2xl":!["xl","2xl"].includes(e(c))}]),"aria-current":"step"},[s("span",me,[s("span",fe,l(i+1),1),s("span",ge,l(u.name),1)]),s("span",xe,l(u.name),1)],10,pe),["xl","2xl"].includes(e(c))?m("",!0):(o(),b(S({...e(t).currentStep.stepComponent}),{key:0}))],64)):(o(),n(_,{key:2},[g[2]||(g[2]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-gray-400 dark:border-white/40 border-dashed"})],-1)),s("button",{type:"button",onClick:k=>e(t).setStep(i),class:"group flex gap-6 items-center text-white/40 hover:text-white/80 cursor-pointer","aria-current":"step"},[s("span",he,[s("span",ye,l(i+1),1),s("span",be,l(u.name),1)]),s("span",ve,l(u.name),1)],8,_e)],64))],2))),128))])]))}}),we={class:"mx-auto flex h-full w-full xl:w-[950px] min-w-80 flex-1 flex-col gap-4 rounded-xl p-4"},ze=C({__name:"ResumeWizard",setup(p){const t=$(),{breakpoint:c}=N();return(f,g)=>(o(),n("div",we,[a(e(ke)),["xl","2xl"].includes(e(c))?(o(),b(S({...e(t).currentStep.stepComponent}),{key:0})):m("",!0)]))}}),$e={class:"mx-auto flex h-full w-full xl:w-[950px] flex-1 flex-col gap-4 rounded-xl p-4"},Ce={class:"relative bg-gray-300/10 dark:bg-[#202020] px-8 py-6"},Se={class:"text-2xl"},Oe={class:"mt-4"},Me={class:"text-gray-600 dark:text-gray-400"},Re={class:"text-gray-600 dark:text-gray-400"},je={class:"text-gray-600 dark:text-gray-400"},Le={key:0,class:"mt-6 text-yellow-400 font-bold"},qe={key:1,class:"text-yellow-400"},Ee={class:"block"},We={class:"block text-yellow-400/70"},Be={key:2,class:"mt-6 text-red-400 font-bold"},De={key:3,class:"text-red-400"},Ne={class:"block"},Ve={class:"block text-red-400/70"},Pe={key:4,class:"mt-6 font-bold"},Fe={key:5,class:"mt-4"},Te={class:"absolute right-2 top-3"},Ae={class:"flex flex-col gap-2"},He={class:"flex flex-col-reverse xl:flex-row justify-end gap-2"},Ge=C({__name:"CompleteOptimization",setup(p){const t=$(),c=Y(),f=O(""),g=F(),u=()=>{if(t.form.status==="complete"){const y=t.form.response.compatibility_score;switch(!0){case(y<90&&y>84):f.value="text-yellow-400";break;case y<85:f.value="text-red-400";break;default:f.value="text-green-400 text-xl"}}};M(()=>{u()});const i=()=>{t.form.status="editing",t.step=0,t.latestStep=3},k=()=>{t.loading=!0,K(t).then(y=>{t.setOptimization(y.data.optimization),t.form.status="complete",g.success("Complete Optimization","The optimization was successfully re-generated."),u()})};return(y,r)=>{var j,L,q,E,W;return o(),n("div",$e,[s("div",Ce,[s("h1",Se,l(e(t).form.role.company)+" "+l(e(t).form.role.name)+" Application",1),s("h4",Oe,[r[2]||(r[2]=h("Compatibility score: ")),s("span",{class:z(["font-bold",f.value])},l(e(t).form.response.compatibility_score)+"%",3),r[3]||(r[3]=h(" Match"))]),s("p",Me,l(e(t).form.response.reasoning),1),r[9]||(r[9]=s("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),r[10]||(r[10]=s("h2",{class:"mt-6 font-bold"},"Role Specific Professional Summary",-1)),s("p",Re,l(e(t).form.response.professional_summary),1),r[11]||(r[11]=s("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),r[12]||(r[12]=s("h2",{class:"mt-4 font-bold"},"Strong Alignments:",-1)),(o(!0),n(_,null,v(e(t).form.response.strong_alignments,d=>(o(),n("div",{key:d.title,class:"mt-4"},[s("h3",null,l(d.title),1),s("p",je,l(d.description),1)]))),128)),e(t).form.response.moderate_gaps.length?(o(),n("h2",Le,"Moderate Gaps:")):m("",!0),e(t).form.response.moderate_gaps.length?(o(),n("div",qe,[s("ul",null,[(o(!0),n(_,null,v(e(t).form.response.moderate_gaps,d=>(o(),n("li",{key:d.title},[s("span",Ee,l(d.title),1),s("span",We,l(d.description),1)]))),128))])])):m("",!0),e(t).form.response.missing_requirements.length?(o(),n("h2",Be,"Missing Requirements:")):m("",!0),e(t).form.response.missing_requirements.length?(o(),n("div",De,[s("ul",null,[(o(!0),n(_,null,v(e(t).form.response.missing_requirements,d=>(o(),n("li",{key:d.title},[s("span",Ne,l(d.title),1),s("span",Ve,l(d.description),1)]))),128))])])):m("",!0),r[13]||(r[13]=s("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),(j=e(t).form.response.cover_letter)!=null&&j.length?(o(),n("h2",Pe,"Cover Letter:")):m("",!0),(L=e(t).form.response.cover_letter)!=null&&L.length?(o(),n("div",Fe,[r[6]||(r[6]=s("p",{class:"text-gray-600 dark:text-gray-400"},"Dear Hiring manager,",-1)),(o(!0),n(_,null,v(e(t).form.response.cover_letter??[],(d,V)=>(o(),n("p",{key:`${d}-${V}`,class:"py-2 text-gray-600 dark:text-gray-400"},l(d),1))),128)),s("p",null,[r[4]||(r[4]=h("Regards,")),r[5]||(r[5]=s("br",null,null,-1)),h(l((q=e(c).props.auth)==null?void 0:q.user.name),1)])])):m("",!0),I(s("div",Te,[e(t).form.optimizationId?(o(),b(e(U),{key:0},{default:x(()=>[a(e(T),{"as-child":""},{default:x(()=>[a(e(A),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground px-4"},{default:x(()=>[a(e(se),{class:"ml-auto size-4"})]),_:1})]),_:1}),a(e(H),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"right",align:"start","side-offset":4},{default:x(()=>[s("div",Ae,[a(e(w),{disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:k},{default:x(()=>[a(e(re)),r[7]||(r[7]=h(" Regenerate "))]),_:1},8,["disabled","variant"]),a(e(w),{disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:i},{default:x(()=>[a(e(oe)),r[8]||(r[8]=h(" Edit "))]),_:1},8,["disabled","variant"]),a(G)])]),_:1})]),_:1})):m("",!0)],512),[[ee,!e(t).loading]])]),s("div",He,[a(e(w),{disabled:e(t).loading||!((E=e(t).form.response.cover_letter)!=null&&E.length),variant:e(t).loading||!((W=e(t).form.response.cover_letter)!=null&&W.length)?"ghost":"outline",type:"button",size:"lg",onClick:r[0]||(r[0]=d=>e(Z)(e(t)))},{default:x(()=>[a(e(B)),r[14]||(r[14]=h(" Download Cover Letter "))]),_:1},8,["disabled","variant"]),a(e(w),{disabled:e(t).loading,type:"button",size:"lg",onClick:r[1]||(r[1]=d=>e(J)(e(t)))},{default:x(()=>[a(e(B)),r[15]||(r[15]=h(" Download Optimized Resume "))]),_:1},8,["disabled"])])])}}}),Xe=C({__name:"Optimization",props:{step:{type:Number,default:0},optimization:{type:Object,default:()=>({})}},setup(p){const t=$(),c=p,f=O([{title:"New Optimization",href:"/optimizations/create"}]);return M(()=>{t.setOptimization(c.optimization),t.form.optimizationId&&(f.value=[{title:"Optimizations",href:"#"},{title:t.form.role.company,href:"/optimizations/"+t.form.optimizationId}])}),(g,u)=>(o(),n(_,null,[a(e(te),{title:e(t).pageTitle},null,8,["title"]),a(Q,{breadcrumbs:f.value},{default:x(()=>[e(t).form.status!=="complete"?(o(),b(ze,{key:0})):m("",!0),e(t).form.status==="complete"?(o(),b(Ge,{key:1})):m("",!0)]),_:1},8,["breadcrumbs"])],64))}});export{Xe as default};
