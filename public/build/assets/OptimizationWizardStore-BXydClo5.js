import{h as he,d as k,g as q,v as ve,u as s,c as $,o as x,n as I,H as be,i as A,b as i,a as p,e as y,w as g,B as xe,F as E,r as C,I as we,k as ke,J as Se,t as te,x as _,K as _e,L as K,j as J,M as Ce,N as $e,O as X,Q,R as Ve,S as Ee,U as Oe,l as N,z as je,f as M,s as H,V as Re}from"./app-CecPddK4.js";import{c as Te,_ as z,a as W,b as R}from"./Label.vue_vue_type_script_setup_true_lang-DZtRAsBt.js";import{c as ae,a as Ie,_ as F}from"./Button.vue_vue_type_script_setup_true_lang-DiqPf2og.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ae("CircleCheckBigIcon",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=ae("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ue=t=>{var a;if(!((a=t.props.auth)!=null&&a.user))return"";const e=t.props.auth.user.api_token;return e?`Bearer ${e}`:""},O=t=>{const e=Ue(t),a=he.create();return a.defaults.headers.common.Authorization=e?`Bearer ${e}`:"",a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",a},Ne=(t,e)=>{e.loading=!0;const a=O(t),r={headers:{"X-CurrentStep":e.step}},n=e.form.optimizationId?a.put(route("optimizations.update",e.form.optimizationId),e.form.role,r):a.post(route("optimizations.store"),e.form.role,r);return n.then(()=>{e.clearErrors(),e.nextStep()}).catch(o=>{Object.keys(o.response.data.errors).forEach(l=>{e.form.errors[l]=o.response.data.errors[l][0]})}).finally(()=>{e.loading=!1}),n},ze=(t,e,a)=>{if(e.loading=!0,!a)return e.setError("upload","Please select a resume, allowed formats are .pdf and .docx"),Promise.reject(new Error("No resume provided"));const r=O(t),n={headers:{"X-CurrentStep":1,"Content-Type":"multipart/form-data"}},o=new FormData;return o.set("upload",a),r.post(route("resumes.store"),o,n).catch(l=>{throw Object.keys(l.response.data.errors).forEach(d=>{e.form.errors[d]=l.response.data.errors[d][0]}),l}).finally(()=>{e.loading=!1})},Be=(t,e)=>{e.loading=!0;const a=O(t),r={headers:{"X-CurrentStep":2}};a.put(route("optimizations.update",e.form.optimizationId),e.form.additional,r).then(()=>{e.clearErrors(),e.nextStep()}).catch(n=>{Object.keys(n.response.data.errors).forEach(o=>{e.form.errors[o]=n.response.data.errors[o][0]})}).finally(()=>{e.loading=!1})},Le=(t,e)=>{e.loading=!0;const a=O(t),r={headers:{"X-CurrentStep":1}};a.put(route("optimizations.update",e.form.optimizationId),e.form.resume,r).then(()=>{e.clearErrors(),e.nextStep()}).catch(n=>{Object.keys(n.response.data.errors).forEach(o=>{e.form.errors[o]=n.response.data.errors[o][0]})}).finally(()=>{e.loading=!1})},De=(t,e)=>{e.loading=!0,e.optimizing=!0;const a=O(t),r={headers:{"X-CurrentStep":3}};return a.put(route("optimizations.update",e.form.optimizationId),{},r).catch(n=>{Object.keys(n.response.data.errors).forEach(o=>{e.form.errors[o]=n.response.data.errors[o][0]})}).finally(()=>{e.loading=!1,e.optimizing=!1})},At=(t,e)=>{const a=O(t),r={headers:{"Content-Type":"application/json"},responseType:"blob"};return a.post(`/api/download-optimized/${e.form.optimizationId}`,{},r).then(function(n){const o=document.createElement("a");o.href=window.URL.createObjectURL(n.data),o.download="resume.pdf",document.body.appendChild(o),o.click(),o.remove()})},Me=["rows"],He=k({__name:"Textarea",props:{defaultValue:{},modelValue:{},class:{},rows:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=Te(a,"modelValue",e,{passive:!0,defaultValue:a.defaultValue});return(o,l)=>q((x(),$("textarea",{"onUpdate:modelValue":l[0]||(l[0]=d=>be(n)?n.value=d:null),class:I(s(Ie)("flex w-full rounded-md border border-input dark:bg-[#363636] px-3 py-2 text-base ring-offset-[#363636] file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a.class)),rows:a.rows||5},null,10,Me)),[[ve,s(n)]])}}),Fe={class:"bg-gray-300/10 dark:bg-[#202020] rounded-md px-8 py-6"},Ge={class:"mb-8 grid grid-cols-2 items-start gap-4"},Xe={class:"grid gap-2"},We={class:"text-xs text-white/50"},Ye={class:"grid gap-2"},qe={class:"grid gap-2"},Ke=k({__name:"RoleInformation",setup(t){const e=P(),a=A(),r=()=>{Ne(a,e).then(n=>{n.data.created&&(e.setOptimization(n.data.optimization),window==null||window.history.pushState({},"",route("optimizations.show",n.data.optimization.id)),document==null||document.dispatchEvent(new CustomEvent("optimization-created",{detail:e.form.optimizationId})))})};return(n,o)=>(x(),$(E,null,[i("div",Fe,[o[9]||(o[9]=i("h3",{class:"text-xl mb-8"},"Role Information",-1)),o[10]||(o[10]=i("p",{class:"text-gray-400 mb-8"},[y("A resume should be role specific, "),i("br"),y("Please provide the role information to optimize the resume for the role you are applying for.")],-1)),i("div",Ge,[i("div",Xe,[p(s(z),{for:"name"},{default:g(()=>o[6]||(o[6]=[y("Role Name")])),_:1}),p(s(W),{id:"name",type:"text",autofocus:!!s(e).form.errors.name,tabindex:1,modelValue:s(e).form.role.name,"onUpdate:modelValue":o[0]||(o[0]=l=>s(e).form.role.name=l),onInput:o[1]||(o[1]=l=>s(e).clearErrors("name"))},null,8,["autofocus","modelValue"]),q(i("span",We,"i.e. Backend Engineer",512),[[xe,!s(e).form.errors.name]]),p(R,{message:s(e).form.errors.name},null,8,["message"])]),i("div",Ye,[p(s(z),{for:"company"},{default:g(()=>o[7]||(o[7]=[y("Company Name")])),_:1}),p(s(W),{id:"company",type:"text",autofocus:!!s(e).form.errors.company,tabindex:2,modelValue:s(e).form.role.company,"onUpdate:modelValue":o[2]||(o[2]=l=>s(e).form.role.company=l),onInput:o[3]||(o[3]=l=>s(e).clearErrors("company"))},null,8,["autofocus","modelValue"]),p(R,{message:s(e).form.errors.company},null,8,["message"])])]),i("div",qe,[p(s(z),{for:"description"},{default:g(()=>o[8]||(o[8]=[y("Role Description")])),_:1}),p(s(He),{id:"description",type:"text",autofocus:!!s(e).form.errors.description,tabindex:3,modelValue:s(e).form.role.description,"onUpdate:modelValue":o[4]||(o[4]=l=>s(e).form.role.description=l),onInput:o[5]||(o[5]=l=>s(e).clearErrors("description"))},null,8,["autofocus","modelValue"]),p(R,{message:s(e).form.errors.description},null,8,["message"])])]),p(s(D),{action:r})],64))}}),Je={class:"bg-gray-300/10 dark:bg-[#202020] px-8 py-6"},Qe={class:"py-6"},Ze={class:"flex items-center gap-4 text-lg cursor-pointer"},et=["value","onUpdate:modelValue"],tt={class:"flex flex-col leading-none"},ot={class:"text-xs text-gray-400"},rt=["disabled"],at=k({__name:"YourResume",setup(t){const e=P(),a=A(),r=C([]),n=C(!1);we(()=>{O(A()).get(route("resumes.index")).then(d=>{var u;r.value=d.data,e.form.resume.id=(u=d.data[0])==null?void 0:u.id})});const o=()=>{Le(a,e)},l=d=>{e.clearErrors();const u=d.target.files.item(0);if(!u){e.setError("upload","Please select a resume, allowed formats are .pdf and .docx");return}ze(a,e,u).then(m=>{r.value.unshift(m.data),e.form.resume.id=m.data.id,n.value=!0,setTimeout(()=>{n.value=!1},3e3)})};return(d,u)=>(x(),$(E,null,[i("div",Je,[u[2]||(u[2]=i("h3",{class:"text-xl mb-6"},"Your Resume",-1)),u[3]||(u[3]=i("p",{class:"text-gray-400"},"Select a previously uploaded resume or upload a new one",-1)),i("div",Qe,[i("ul",null,[(x(!0),$(E,null,ke(r.value,m=>(x(),$("li",{key:m.id,class:"mb-4"},[i("label",Ze,[q(i("input",{onInput:u[0]||(u[0]=h=>s(e).clearErrors("id")),accept:"application/msword, application/pdf",type:"radio",name:"resume",value:m.id,"onUpdate:modelValue":h=>s(e).form.resume.id=h,class:"w-6 h-6"},null,40,et),[[Se,s(e).form.resume.id]]),i("span",tt,[i("span",null,te(m.name),1),i("span",ot,"Sent on "+te(m.created),1)])])]))),128))]),p(R,{message:s(e).form.errors.id},null,8,["message"]),i("label",{class:I(["mt-6 flex flex-col gap-4 items-center justify-center py-12 dark:bg-[#363636] rounded-md border border-dashed cursor-pointer",{" border-white/30 text-gray-400":!s(e).form.errors.upload," border-red-400 text-red-400":!!s(e).form.errors.upload}])},[p(s(Pe),{class:I(["transition-colors duration-1000",{"motion-safe:animate-bounce":s(e).loading,"text-green-400":n.value}]),size:"50"},null,8,["class"]),u[1]||(u[1]=i("span",null,"Drag or click here to upload a new resume.",-1)),i("input",{type:"file",disabled:s(e).loading,class:"sr-only",onInput:l},null,40,rt)],2),p(R,{message:s(e).form.errors.upload},null,8,["message"])])]),p(s(D),{action:o})],64))}});function nt(t,e,a){let r=C(a==null?void 0:a.value),n=_(()=>t.value!==void 0);return[_(()=>n.value?t.value:r.value),function(o){return n.value||(r.value=o),e==null?void 0:e(o)}]}var oe;let st=Symbol("headlessui.useid"),lt=0;const ne=(oe=_e)!=null?oe:function(){return K(st,()=>`${++lt}`)()};function B(t){var e;if(t==null||t.value==null)return null;let a=(e=t.value.$el)!=null?e:t.value;return a instanceof Node?a:null}function se(t,e,...a){if(t in e){let n=e[t];return typeof n=="function"?n(...a):n}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,se),r}function re(t,e){if(t)return t;let a=e??"button";if(typeof a=="string"&&a.toLowerCase()==="button")return"button"}function it(t,e){let a=C(re(t.value.type,t.value.as));return J(()=>{a.value=re(t.value.type,t.value.as)}),Ce(()=>{var r;a.value||B(e)&&B(e)instanceof HTMLButtonElement&&!((r=B(e))!=null&&r.hasAttribute("type"))&&(a.value="button")}),a}var ut=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ut||{}),dt=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(dt||{});function L({visible:t=!0,features:e=0,ourProps:a,theirProps:r,...n}){var o;let l=ie(r,a),d=Object.assign(n,{props:l});if(t||e&2&&l.static)return G(d);if(e&1){let u=(o=l.unmount)==null||o?0:1;return se(u,{0(){return null},1(){return G({...n,props:{...l,hidden:!0,style:{display:"none"}}})}})}return G(d)}function G({props:t,attrs:e,slots:a,slot:r,name:n}){var o,l;let{as:d,...u}=ue(t,["unmount","static"]),m=(o=a.default)==null?void 0:o.call(a,r),h={};if(r){let v=!1,b=[];for(let[S,w]of Object.entries(r))typeof w=="boolean"&&(v=!0),w===!0&&b.push(S);v&&(h["data-headlessui-state"]=b.join(" "))}if(d==="template"){if(m=le(m??[]),Object.keys(u).length>0||Object.keys(e).length>0){let[v,...b]=m??[];if(!mt(v)||b.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${n} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(e)).map(f=>f.trim()).filter((f,T,j)=>j.indexOf(f)===T).sort((f,T)=>f.localeCompare(T)).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));let S=ie((l=v.props)!=null?l:{},u,h),w=$e(v,S,!0);for(let f in S)f.startsWith("on")&&(w.props||(w.props={}),w.props[f]=S[f]);return w}return Array.isArray(m)&&m.length===1?m[0]:m}return X(d,Object.assign({},u,h),{default:()=>m})}function le(t){return t.flatMap(e=>e.type===E?le(e.children):[e])}function ie(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},a={};for(let r of t)for(let n in r)n.startsWith("on")&&typeof r[n]=="function"?(a[n]!=null||(a[n]=[]),a[n].push(r[n])):e[n]=r[n];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(a).map(r=>[r,void 0])));for(let r in a)Object.assign(e,{[r](n,...o){let l=a[r];for(let d of l){if(n instanceof Event&&n.defaultPrevented)return;d(n,...o)}}});return e}function pt(t){let e=Object.assign({},t);for(let a in e)e[a]===void 0&&delete e[a];return e}function ue(t,e=[]){let a=Object.assign({},t);for(let r of e)r in a&&delete a[r];return a}function mt(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var de=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(de||{});let ct=k({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:a}){return()=>{var r;let{features:n,...o}=t,l={"aria-hidden":(n&2)===2?!0:(r=o["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return L({ourProps:l,theirProps:o,slot:{},attrs:a,slots:e,name:"Hidden"})}}});var Y=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Y||{});function ft(t){var e,a;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let n of r.elements)if(n!==t&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(a=r.requestSubmit)==null||a.call(r)}}let gt=Symbol("DescriptionContext");function yt({slot:t=C({}),name:e="Description",props:a={}}={}){let r=C([]);function n(o){return r.value.push(o),()=>{let l=r.value.indexOf(o);l!==-1&&r.value.splice(l,1)}}return Q(gt,{register:n,slot:t,name:e,props:a}),_(()=>r.value.length>0?r.value.join(" "):void 0)}let pe=Symbol("LabelContext");function me(){let t=K(pe,null);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,me),e}return t}function ht({slot:t={},name:e="Label",props:a={}}={}){let r=C([]);function n(o){return r.value.push(o),()=>{let l=r.value.indexOf(o);l!==-1&&r.value.splice(l,1)}}return Q(pe,{register:n,slot:t,name:e,props:a}),_(()=>r.value.length>0?r.value.join(" "):void 0)}let vt=k({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{slots:e,attrs:a}){var r;let n=(r=t.id)!=null?r:`headlessui-label-${ne()}`,o=me();return J(()=>Ve(o.register(n))),()=>{let{name:l="Label",slot:d={},props:u={}}=o,{passive:m,...h}=t,v={...Object.entries(u).reduce((b,[S,w])=>Object.assign(b,{[S]:s(w)}),{}),id:n};return m&&(delete v.onClick,delete v.htmlFor,delete h.onClick),L({ourProps:v,theirProps:h,slot:d,attrs:a,slots:e,name:l})}}}),ce=Symbol("GroupContext"),bt=k({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:a}){let r=C(null),n=ht({name:"SwitchLabel",props:{htmlFor:_(()=>{var l;return(l=r.value)==null?void 0:l.id}),onClick(l){r.value&&(l.currentTarget.tagName==="LABEL"&&l.preventDefault(),r.value.click(),r.value.focus({preventScroll:!0}))}}}),o=yt({name:"SwitchDescription"});return Q(ce,{switchRef:r,labelledby:n,describedby:o}),()=>L({theirProps:t,ourProps:{},slot:{},slots:e,attrs:a,name:"SwitchGroup"})}}),xt=k({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:e,attrs:a,slots:r,expose:n}){var o;let l=(o=t.id)!=null?o:`headlessui-switch-${ne()}`,d=K(ce,null),[u,m]=nt(_(()=>t.modelValue),c=>e("update:modelValue",c),_(()=>t.defaultChecked));function h(){m(!u.value)}let v=C(null),b=d===null?v:d.switchRef,S=it(_(()=>({as:t.as,type:a.type})),b);n({el:b,$el:b});function w(c){c.preventDefault(),h()}function f(c){c.key===Y.Space?(c.preventDefault(),h()):c.key===Y.Enter&&ft(c.currentTarget)}function T(c){c.preventDefault()}let j=_(()=>{var c,V;return(V=(c=B(b))==null?void 0:c.closest)==null?void 0:V.call(c,"form")});return J(()=>{Ee([j],()=>{if(!j.value||t.defaultChecked===void 0)return;function c(){m(t.defaultChecked)}return j.value.addEventListener("reset",c),()=>{var V;(V=j.value)==null||V.removeEventListener("reset",c)}},{immediate:!0})}),()=>{let{name:c,value:V,form:fe,tabIndex:Z,...ee}=t,ge={checked:u.value},ye={id:l,ref:b,role:"switch",type:S.value,tabIndex:Z===-1?0:Z,"aria-checked":u.value,"aria-labelledby":d==null?void 0:d.labelledby.value,"aria-describedby":d==null?void 0:d.describedby.value,onClick:w,onKeyup:f,onKeypress:T};return X(E,[c!=null&&u.value!=null?X(ct,pt({features:de.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:u.value,form:fe,disabled:ee.disabled,name:c,value:V})):null,L({ourProps:ye,theirProps:{...a,...ue(ee,["modelValue","defaultChecked"])},slot:ge,attrs:a,slots:r,name:"Switch"})])}}}),wt=vt;const kt={class:"dark:text-white"},U=k({__name:"Toggle",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Oe(t,"modelValue");return(a,r)=>(x(),N(s(bt),{as:"div",class:"flex items-center"},{default:g(()=>[p(s(xt),{modelValue:e.value,"onUpdate:modelValue":r[0]||(r[0]=n=>e.value=n),class:I([e.value?"bg-gray-400 dark:bg-white/60":"bg-gray-200 dark:bg-gray-200","relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:ring-1 focus:ring-gray-400 dark:focus:ring-white/60 focus:ring-offset-1 focus:outline-hidden"])},{default:g(()=>[i("span",{"aria-hidden":"true",class:I([e.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block size-5 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]),p(s(wt),{as:"span",class:"ml-3 cursor-pointer select-none"},{default:g(()=>[i("span",kt,[je(a.$slots,"default")])]),_:3})]),_:3}))}}),St={class:"bg-gray-300/10 dark:bg-[#202020] px-8 py-6"},_t={class:"py-6 grid grid-cols-2 gap-6"},Ct={class:"mt-4 grid gap-2 w-1/2"},$t=k({__name:"AdditionalInformation",setup(t){const e=P(),a=A(),r=()=>{Be(a,e)};return(n,o)=>(x(),$(E,null,[i("div",St,[o[10]||(o[10]=i("h3",{class:"text-xl mb-6"},"Additional Information",-1)),o[11]||(o[11]=i("p",{class:"text-gray-400"},"Select the options that match your goal",-1)),i("div",_t,[p(s(U),{modelValue:s(e).form.additional.makeGrammaticalCorrections,"onUpdate:modelValue":o[0]||(o[0]=l=>s(e).form.additional.makeGrammaticalCorrections=l)},{default:g(()=>o[5]||(o[5]=[y(" Make grammatical corrections ")])),_:1},8,["modelValue"]),p(s(U),{modelValue:s(e).form.additional.changeProfessionalSummary,"onUpdate:modelValue":o[1]||(o[1]=l=>s(e).form.additional.changeProfessionalSummary=l)},{default:g(()=>o[6]||(o[6]=[y(" Change Professional Summary ")])),_:1},8,["modelValue"]),p(s(U),{modelValue:s(e).form.additional.changeTargetRole,"onUpdate:modelValue":o[2]||(o[2]=l=>s(e).form.additional.changeTargetRole=l)},{default:g(()=>o[7]||(o[7]=[y(" Change Target Role ")])),_:1},8,["modelValue"]),p(s(U),{modelValue:s(e).form.additional.mentionRelocationAvailability,"onUpdate:modelValue":o[3]||(o[3]=l=>s(e).form.additional.mentionRelocationAvailability=l)},{default:g(()=>o[8]||(o[8]=[y(" Mention relocation availability ")])),_:1},8,["modelValue"])]),i("div",Ct,[p(s(z),{for:"country"},{default:g(()=>o[9]||(o[9]=[y("Target Country")])),_:1}),p(s(W),{id:"country",type:"text",required:"",autofocus:"",tabindex:1,modelValue:s(e).form.additional.targetCountry,"onUpdate:modelValue":o[4]||(o[4]=l=>s(e).form.additional.targetCountry=l)},null,8,["modelValue"]),p(R,{message:s(e).form.errors.targetCountry},null,8,["message"])])]),p(s(D),{action:r})],64))}}),Vt={class:"bg-gray-300/10 dark:bg-[#202020] px-8 py-6"},Et={class:"flex flex-col items-center gap-8"},Ot=k({__name:"Completed",setup(t){const e=P(),a=()=>{De(A(),e).then(r=>{e.setOptimization(r.data.optimization),e.form.status="complete"})};return(r,n)=>(x(),$(E,null,[i("div",Vt,[i("div",Et,[n[0]||(n[0]=i("h3",{class:"text-xl"},"Complete",-1)),p(s(Ae),{class:"text-green-500 h-16 w-16"}),n[1]||(n[1]=i("p",null,"That’s all the information we need!",-1)),n[2]||(n[2]=i("div",{class:"text-center"},[i("p",null,"By clicking “Optimize”, you agree to store your information and that it might be used to train LLM models."),i("p",null,"Your resume will be processed and will soon be available for download."),i("p",null,"If it takes too long, be sure to have browser notifications allowed to be notified.")],-1))])]),p(s(D),{action:a})],64))}}),jt={class:"flex justify-end items-center gap-4"},D=k({__name:"Buttons",props:{action:{type:Function}},setup(t){const e=P();return(a,r)=>(x(),$("div",jt,[s(e).step>0?(x(),N(s(F),{key:0,type:"button",variant:"ghost",disabled:s(e).loading,onClick:H(s(e).prevStep,["prevent"])},{default:g(()=>r[0]||(r[0]=[y("Prev")])),_:1},8,["disabled","onClick"])):M("",!0),s(e).step<s(e).steps.length-1?(x(),N(s(F),{key:1,disabled:s(e).loading,type:"button",onClick:H(a.action,["prevent"])},{default:g(()=>r[1]||(r[1]=[y("Next")])),_:1},8,["disabled","onClick"])):M("",!0),s(e).step===s(e).steps.length-1?(x(),N(s(F),{key:2,type:"button",disabled:s(e).loading,onClick:H(a.action,["prevent"])},{default:g(()=>r[2]||(r[2]=[y("Optimize")])),_:1},8,["disabled","onClick"])):M("",!0)]))}}),P=Re("resume-wizard",{state:()=>({step:0,latestStep:0,loading:!1,optimizing:!1,pageTitle:"New Optimization",steps:[{name:"Role Information",stepComponent:Ke},{name:"Your Resume",stepComponent:at},{name:"Additional Information",stepComponent:$t},{name:"Complete",stepComponent:Ot}],form:{status:"pending",optimizationId:void 0,role:{company:"",description:"",name:""},resume:{id:void 0},additional:{changeProfessionalSummary:!0,changeTargetRole:!0,makeGrammaticalCorrections:!0,mentionRelocationAvailability:!1,targetCountry:""},errors:{},response:{}}}),getters:{currentStep:t=>t.steps[t.step]},actions:{clearErrors(t=[]){if(t.length===0&&(this.form.errors={}),typeof t=="string"){this.form.errors[t]=void 0;return}for(const e in t)delete this.form.errors[e]},setError(t,e){this.form.errors[t]=e},setOptimization(t){this.step=t.current_step||0,this.latestStep=t.current_step||0,this.form.optimizationId=t.id,this.form.role.name=t.role_name,this.form.role.description=t.role_description,this.form.role.company=t.role_company,this.form.resume.id=t.resume_id,this.form.additional.targetCountry=t.role_location?t.role_location:"",this.form.additional.makeGrammaticalCorrections=t.make_grammatical_corrections,this.form.additional.changeProfessionalSummary=t.change_professional_summary,this.form.additional.changeTargetRole=t.change_target_role,this.form.additional.mentionRelocationAvailability=t.mention_relocation_availability,this.form.status=t.status,this.form.response=t.ai_response,t.id&&(this.pageTitle=t.role_company+" - "+t.role_name+" - Resume Optimization")},nextStep(){this.step++,this.latestStep=this.step},prevStep(){this.step--},setStep(t){t<=this.latestStep&&(this.step=t)},finish(){alert("done")}}});export{O as A,P as a,De as c,At as d,xt as u};
